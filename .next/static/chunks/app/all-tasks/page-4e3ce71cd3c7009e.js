(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{1766:(e,t,l)=>{"use strict";l.d(t,{jj:()=>r,xx:()=>d});var s=l(5155),a=l(2115);let d=(0,a.createContext)(void 0),r=e=>{let{children:t}=e,[l,r]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("#todoList");if(e)try{r(JSON.parse(e))}catch(e){console.error("Failed to parse tasks from localStorage")}},[]),(0,s.jsx)(d.Provider,{value:{tasks:l,setTasks:r,getAllTasks:()=>l,getCompletedTasks:()=>l.filter(e=>e.completed),handleAddTask:e=>{let t=[...l,{...e,id:Math.random().toString()}];localStorage.setItem("#todoList",JSON.stringify(t)),r(t)},handleDeleteTask:e=>{let t=l.indexOf(e);if(-1===t)alert("Kh\xf4ng t\xecm thấy task cần x\xf3a");else{let e=[...l];e.splice(t,1),localStorage.setItem("#todoList",JSON.stringify(e)),r(e)}},handleUpdateTask:e=>{r([...l].map(t=>t.id===e.id?{...t,...e}:t))},handleCompletedTask:e=>{let t=[...l];t[e].completed=!0,localStorage.setItem("#todoList",JSON.stringify(t)),r(t)}},children:t})}},2501:(e,t,l)=>{Promise.resolve().then(l.bind(l,5871))},5871:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>n});var s=l(5155),a=l(1766),d=l(2115);let r={id:"",title:"",completed:!1},n=()=>{let e=(0,d.useContext)(a.xx),t=(0,d.useRef)(null),[l,n]=(0,d.useState)([]),[i,o]=(0,d.useState)(r);return(0,d.useEffect)(()=>{n(e.tasks),t&&t.current.focus()},[e.tasks]),(0,s.jsxs)("div",{className:" text-black dark:bg-black/90 dark:text-white/90 min-h-[calc(100vh-70px)]",children:[(0,s.jsx)("h2",{className:"text-center py-8 text-3xl font-bold animate-up-down",children:"All Tasks"}),(0,s.jsxs)("div",{className:"w-full flex flex-col justify-center items-center p-16 gap-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("input",{className:"border border-gray-400 px-4 py-2 rounded-md flex-1 dark:border-gray-700",value:i.title,onChange:e=>o({...i,title:e.target.value}),ref:t}),(0,s.jsx)("button",{onClick:()=>{o(r),i.id.length>0?e.handleUpdateTask(i):e.handleAddTask(i)},children:i.id.length>0?"Update":"Add"}),i.id.length>0&&(0,s.jsx)("button",{onClick:()=>o(r),children:"Close"})]}),l.length>0&&l.map((t,l)=>(0,s.jsxs)("div",{className:"w-96 border border-gray-300 py-4 px-16 rounded-lg dark:border-gray-700",onDoubleClick:()=>o(t),children:[(0,s.jsx)("h2",{className:"text-2xl font-medium text-blue-500 ".concat(t.completed?"line-through":""," "),children:t.title}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("h2",{children:"_"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>{e.handleCompletedTask(l)},children:"complete"}),(0,s.jsx)("button",{onClick:()=>{e.handleDeleteTask(t)},children:"delete"})]})]})]},l))]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2501)),_N_E=e.O()}]);